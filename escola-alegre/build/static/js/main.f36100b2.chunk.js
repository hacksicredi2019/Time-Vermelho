(this["webpackJsonpescola-alegre"]=this["webpackJsonpescola-alegre"]||[]).push([[0],{108:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(20),l=t.n(r),i=(t(79),t(26)),c=t.n(i),s=t(12),m=t(8),d=t(37),u=t(27),p=t(16),f=t(28),h=t(29),g=t(32),v=t(23),E=t.n(v),b=t(30),y=t.n(b),O=(t(98),t(138)),w=t(130),C=t(54),k=t.n(C),S=Object(w.a)((function(e){return{search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,borderWidth:"1px",borderColor:"#000",width:"auto",alignSelf:"center"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{position:"absolute",right:"-1em",top:"0.3em"},inputRoot:{color:"inherit"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"20em"},e.breakpoints.up("xs"),{marginLeft:"-5em",width:"14em","&:focus":{width:"15em"}})}})),j=function(e){var a=e.placeholder,t=e.onChange,n=S();return o.a.createElement("div",{className:n.search},o.a.createElement(O.a,{placeholder:a,classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return t(e.target.value)}}),o.a.createElement("div",{className:n.searchIcon},o.a.createElement(k.a,null)))},x=t(25),N=t(142),W=t(132),D=t(134),L=t(133),A=t(135),I=t(136),P=t(33),R=t(59),T=t.n(R),q=t(60),z=t.n(q),M=t(139),V=t(34),B=t(137),J=t(15),F=Object(w.a)((function(e){return{card:Object(m.a)({margin:"0.5em"},e.breakpoints.up("sm"),{position:"relative",display:"block",width:"100%"}),compare:{backgroundColor:"green",color:"#fff",fontSize:"15px","&:focus":{color:"#000",backgroundColor:"green"},"&:hover":{color:"#000",backgroundColor:"green"}},button:{fontSize:"16px"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},label:{fontSize:"1.5em"},rateValue:{fontSize:"30px",fontWeight:"bold",color:"#ff3300"},link:{textDecoration:"none",color:"inherit"},padding:{marginLeft:"1.5em"},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:P.a[500]}}}));function H(e){var a=e.perfil,t=e.index,n=e.avatar,r=(e.email,e.telefone,e.data),l=e.endereco,i=e.name,c=e.onCompare,s=e.onDetailed,m=e.rate,d=e.children,u=F(),p=o.a.useState(!1),f=Object(x.a)(p,2),h=f[0],g=f[1],v=o.a.useState(!1),E=Object(x.a)(v,2),b=E[0],y=E[1];return o.a.createElement(N.a,{className:u.card},a?o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,{avatar:o.a.createElement(L.a,{"aria-label":"foto da escola",className:u.avatar},n),title:i,subheader:l}),o.a.createElement(B.a,{component:"fieldset",mb:3,borderColor:"transparent"},o.a.createElement(V.a,{component:"legend",className:u.label},"M\xe9dia de avalia\xe7\xf5es: ",o.a.createElement("span",{className:u.rateValue},"2")),o.a.createElement(M.a,{name:"read-only","aria-label":"avalia\xe7\xe3o",precision:.5,value:2,readOnly:!0})),o.a.createElement("div",{className:u.padding},o.a.createElement(V.a,{component:"legend",className:u.rateValue},i),o.a.createElement(V.a,{component:"legend"},"Contato: (51) 3228-9597 | Hor\xe1rio: 08h00 \xe0s 18h00"),o.a.createElement(V.a,{component:"legend"},"Email: girafinhatravessa2010@hotmail.com")),o.a.createElement("div",{className:u.padding},o.a.createElement(V.a,{component:"legend"},"Endere\xe7o: ",l),o.a.createElement(V.a,{component:"legend",className:u.label},"Bolsas: ",o.a.createElement("span",{className:u.rateValue},"3")),o.a.createElement(V.a,{component:"legend",className:u.label},"Vagas: ",o.a.createElement("span",{className:u.rateValue},"10/150"))),d):o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,{avatar:o.a.createElement(L.a,{"aria-label":"foto da escola",className:u.avatar},n),title:i,subheader:l}),o.a.createElement(B.a,{component:"fieldset",mb:3,borderColor:"transparent"},o.a.createElement(V.a,{component:"legend"},m),o.a.createElement(M.a,{name:"read-only","aria-label":"avalia\xe7\xe3o",precision:.5,value:m,readOnly:!0})),o.a.createElement(D.a,{disableSpacing:!0},o.a.createElement(A.a,{"aria-label":"adicionar aos favoritos",onClick:function(){return g(!h),void console.log("clicado")}},o.a.createElement(T.a,{color:h?"error":void 0})),o.a.createElement(I.a,{color:"inherit","area-label":"comparar",className:[u.button,b?u.compare:void 0],endIcon:o.a.createElement(z.a,null),onClick:function(){return y(!b),void(void 0!==t&&c(t))}},"Comparar"),o.a.createElement(I.a,{color:"inherit","area-label":"ver mais",className:u.button,onClick:function(){return s&&t&&s(t)}},o.a.createElement(J.a,{to:"/perfil/".concat(t),params:r,className:u.link},"VER MAIS")))))}var U=t(61);function G(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Q(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?G(Object(t),!0).forEach((function(a){Object(m.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var $=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(f.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={schools:[],search:"",compare:[],loading:!0},t.handlePoisitionChange=function(){t.fetchData({value:t.state.search,page:t.state.page+1})},t.handleCompare=function(){return!0},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"fetchData",value:function(){var e=Object(d.a)(c.a.mark((function e(a){var t,n,o,r,l,i,m,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.value,n=void 0===t?"":t,o=a.page,r=void 0===o?1:o,l=a.incremental,i=void 0===l||l,this.setState((function(e){return Q({},e,{loading:!0})})),e.next=4,E()({url:"http://172.22.238.199:3000/graphql/",method:"post",data:{query:'query{\n          school(name: "'.concat(n,'" page: ').concat(r,"){\n            name\n            id\n            rate,\n            location { endereco }\n          }\n        }")}});case 4:if(m=e.sent,d=m.data.data.school,!i){e.next=12;break}if(d){e.next=9;break}return e.abrupt("return");case 9:this.setState((function(e){return Q({},e,{loading:!1,schools:[].concat(Object(s.a)(e.schools),Object(s.a)(d)),page:r})})),e.next=13;break;case 12:this.setState((function(e){return Q({},e,{loading:!1,schools:d||[],page:r})}));case 13:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"handleQuery",value:function(){var e=Object(d.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("query",a),this.setState({search:a}),e.next=4,this.fetchData({value:a,page:1,incremental:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData({value:this.state.search,page:1,incremental:!1})}},{key:"render",value:function(){var e=this,a=this.state;a.escola,a.search;return console.log(this.state.schools),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header",ref:this.pageRef},o.a.createElement("img",{src:y.a,className:"App-logo",alt:"logo"}),o.a.createElement(j,{placeholder:"Digite seu endere\xe7o aqui",onChange:function(a){return e.handleQuery(a)}})),o.a.createElement("div",{style:{height:"200em"}},this.state.schools.map((function(a,t){return o.a.createElement(H,{key:t,data:a,avatar:"G",name:a.name,endereco:a.location&&a.location.endereco,rate:a.rate,index:t,onCompare:function(a){return e.handleCompare(a)}})})),!this.state.loading&&o.a.createElement(U.a,{onEnter:this.handlePoisitionChange}),o.a.createElement("p",null),o.a.createElement("p",null),o.a.createElement("p",{style:{color:"#CA0201",fontWeight:"bold"}},"Nenhuma escola foi localizada com este nome")))}}]),a}(o.a.Component),K=t(140),X=function(e){e.exibeModal;return o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center",color:"orange"}},o.a.createElement("h2",{id:"simple-modal-title"},"Obrigado por avaliar!")),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",paddingTop:"-10%"}},o.a.createElement("p",{id:"simple-modal-description",style:{fontSize:"5em"}},"\ud83d\ude03")),o.a.createElement("div",{style:{position:"absolute",bottom:200,marginLeft:"40%"}},o.a.createElement("img",{src:y.a,alt:"logo"})),o.a.createElement(I.a,{color:"inherit","area-label":"ver mais",style:{position:"absolute",bottom:0,marginLeft:"40%"},onClick:function(){}},o.a.createElement(J.a,{to:"/",style:{textDecoration:"none"}},"Home")))},Y=t(62),Z=t.n(Y),_=t(63),ee=t.n(_),ae=t(64),te=t.n(ae),ne=t(65),oe=t.n(ne),re=function(e){function a(e){var t;return Object(u.a)(this,a),(t=Object(f.a)(this,Object(h.a)(a).call(this,e))).handleSubmit=function(){var e=t.state,a=e.escola,n=e.infra,o=e.alimentacao,r=e.diversidade,l=e.motivacao,i=e.seguranca,c=e.comunicacao,s=e.comentario,m="mutation {\n        createRating(\n          schoolId: 3,\n          alimentacao: ".concat(o,",\n          comunicacao: ").concat(c,",\n          diversidade: ").concat(r,",\n          infra: ").concat(n,",\n          seguranca: ").concat(i,",\n          motivacao: ").concat(l,',\n          comment: "').concat(s,'",\n          tipoPessoa: "pai",\n          nome: "Bianca"\n        )\n        {\n          rating\n          {\n            id\n            infra\n          }\n        }\n      }');E()({url:"http://172.22.238.199:3000/graphql/",method:"post",data:{query:m}}).then((function(e){return!0})),console.log("escola",JSON.stringify(a.id)),console.log(JSON.stringify(m))},t.state={escola:[],infra:0,alimentacao:0,diversidade:0,motivacao:0,seguranca:0,comunicacao:0,comentario:""},t}return Object(g.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;E()({url:"http://172.22.238.199:3000/graphql/",method:"post",data:{query:"query {\n              school(index: ".concat(this.props.index,"){\n                name\n                id\n                rate\n                location { endereco }\n              }\n            }")}}).then((function(a){var t=a.data.data.school;return e.setState({escola:t})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.exibeModal,n=a.escola,r=a.infra,l=a.alimentacao,i=a.diversidade,c=a.motivacao,s=a.seguranca,m=a.comunicacao,d=a.comentario;return console.log("data",this.state.escola),o.a.createElement(H,{perfil:!0,key:n.id,avatar:"I",name:"Infante Dom Henrique",endereco:"R. Gon\xe7alves Dias, 1022",rate:n.rate},o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(X,null),o.a.createElement("div",{style:{marginLeft:"20%"}},o.a.createElement("div",null,o.a.createElement(V.a,{style:{fontSize:"20px",fontWeight:"bold",paddingLeft:"3em"}},"Infraestrutura"),o.a.createElement("div",null,o.a.createElement(Z.a,null),o.a.createElement(V.a,{style:{fontWeight:"normal"}},"Biblioteca")),o.a.createElement("div",null,o.a.createElement(ee.a,null),o.a.createElement(V.a,{style:{fontWeight:"normal",paddingTop:"0.6em"}},"Internet")))),o.a.createElement("div",{style:{marginLeft:"20%"}},o.a.createElement("div",null,o.a.createElement(V.a,{style:{fontSize:"20px",fontWeight:"bold",paddingLeft:"3em"}},"Ensino"),o.a.createElement("div",null,o.a.createElement(te.a,null),o.a.createElement(V.a,{style:{fontWeight:"normal"}},"AEE Libras")),o.a.createElement("div",null,o.a.createElement(oe.a,null),o.a.createElement(V.a,{style:{fontWeight:"normal",paddingTop:"0.6em"}},"Diversidade Socio Cultural")))),o.a.createElement("div",{style:{marginLeft:"20%"}},o.a.createElement("div",null,o.a.createElement(V.a,{style:{fontSize:"20px",fontWeight:"bold",paddingLeft:"3em"}},"Avalia\xe7\xf5es"),o.a.createElement("div",null,o.a.createElement(V.a,{style:{fontWeight:"normal"}},"Infraestrutura da escola"),o.a.createElement(M.a,{name:"simple-controlled",value:r,onChange:function(a,t){return e.setState({infra:t})}})),o.a.createElement("div",null,o.a.createElement(V.a,{style:{fontWeight:"normal",paddingTop:"0.6em"}},"Alimenta\xe7\xe3o na Escola"),o.a.createElement(M.a,{name:"simple-controlled1",value:l,onChange:function(a,t){return e.setState({alimentacao:t})}})),o.a.createElement("div",null,o.a.createElement(V.a,{style:{fontWeight:"normal",paddingTop:"0.6em"}},"Valoriza\xe7\xe3o da diversidade"),o.a.createElement(M.a,{name:"simple-controlled2",value:i,onChange:function(a,t){return e.setState({diversidade:t})}})),o.a.createElement("div",null,o.a.createElement(V.a,{style:{fontWeight:"normal",paddingTop:"0.6em"}},"Motiva\xe7\xe3o do Estudante"),o.a.createElement(M.a,{name:"simple-controlled3",value:c,onChange:function(a,t){return e.setState({motivacao:t})}}))),o.a.createElement("div",{style:{float:"left"}},o.a.createElement("div",null,o.a.createElement(V.a,{style:{fontWeight:"normal",paddingTop:"0.6em"}},"Seguran\xe7a na Escola"),o.a.createElement(M.a,{name:"simple-controlled4",value:m,onChange:function(a,t){return e.setState({comunicacao:t})}})),o.a.createElement("div",null,o.a.createElement(V.a,{style:{fontWeight:"normal",paddingTop:"0.6em"}},"Comunica\xe7\xe3o com a Escola"),o.a.createElement(M.a,{name:"simple-controlled5",value:s,onChange:function(a,t){return e.setState({seguranca:t})}})),o.a.createElement("div",{style:{alignSelf:"center",alignItems:"center",width:"100%",paddingLeft:"1.6em"}},o.a.createElement(V.a,{style:{fontSize:"1.5em",paddingTop:"0.5em"}},"Coment\xe1rios")),o.a.createElement("div",{style:{paddingTop:"0.5em",paddingLeft:"1.6em",paddingRight:"0.6em"}},o.a.createElement(K.a,{rowsMax:5,"aria-label":"maximum height",placeholder:"Comente aqui.",value:d,onChange:function(a){return e.setState({comentario:a.target.value})}})),o.a.createElement(I.a,{variant:"contained",color:"primary","area-label":"ver mais",style:{marginLeft:"1.6em",fontSize:"16px",border:"solid 1px #600C00",borderRadius:"0"},onClick:function(){return e.handleSubmit()}},o.a.createElement(J.a,{to:"final",style:{textDecoration:"none",color:"#600C00",fontWeight:"bold"}},"Enviar Avalia\xe7\xe3o"))))))}}]),a}(o.a.Component),le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(o.a.createElement(J.b,null,o.a.createElement($,{path:"/"}),o.a.createElement(re,{path:"perfil/:index"}),o.a.createElement(X,{path:"/perfil/0/final"})),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");le?(!function(e,a){fetch(e).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ie(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ie(a,e)}))}}()},30:function(e,a,t){e.exports=t.p+"static/media/logo.23df110f.svg"},74:function(e,a,t){e.exports=t(108)},79:function(e,a,t){},98:function(e,a,t){}},[[74,1,2]]]);
//# sourceMappingURL=main.f36100b2.chunk.js.map